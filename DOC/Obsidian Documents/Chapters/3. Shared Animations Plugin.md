---
tags:
  - cpp
  - UE
  - M2
  - PW15
---
---
Animation Sharing Plugin (Плагин Обмена Анимации)

Нюансы:
1. Можно задействовать для класса типа **`Actor`** (не обязательно **`Pawn`** или **`Character`**), главное, чтобы имел в наличии **`Skeletal Mesh Component`** для воспроизведения анимации;
   
2. В **`"Animation Sharing State Processor"`**, в функции **`"Process Actor State"`** необходимо проверять бит **`"Should Process"`** в *возвращающей* Ноде **`"Return Node"`**.
   Данный бит по умолчанию отключен (`false`), но для работоспособности должен быть включен (`true`):
![[../Image/Debug Animation Sharing.png]]

3. При удалении "*анимированного*" Актора данным Плагином, выявляется ошибка в **`"Animation Sharing State Processor"`**, затрудняющая работу с плагином:
   - Актор, получаемый из "*In Actor*" входной Ноды **`"Process Actor State"`** не валиден, но осуществляется попытка его "*анимировать*" снова и снова;
   - Так же, при большом количестве удалённых экземпляров Актора, система начинает нагружаться (даже подвисать) лишними задачами – **`"Animation Sharing State Processor"`** всё ещё пытается "*анимировать*" удалённый Актор;
   - Данная "нагрузка" системы длится около 53 секунд после первого удаления Актора (без актуальной "нагрузки" того же типа), а затем пропадает. При этом, если после этого выйти из игры, всплывает окно с "фатальной" ошибкой ("*Fatal error!*");
     
4. С "*AnimBP*" типа **`"Anim Sharing Additive Instance"`** совладать не получилось – при её использовании "*ломается*" вся анимация, а как исправить данную "*ломку*" костей – так и не нашёл:
![[../Image/Bug Anim Sharing Additive Instance.png]]



Ссылка Epic Games:
[Animation Sharing Plugin](https://dev.epicgames.com/documentation/en-us/unreal-engine/animation-sharing-plugin?application_version=4.27)

